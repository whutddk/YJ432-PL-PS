# 架构设计

------------------

## 使用最大算力资源

* 每一层神经元数量按最多设计，最后使用编译参数进行修剪

* 每一层每个神经元的输入
    1. 上一层每个神经元连线的权重
    2. 求和
    - 乘和累加
    - 可以单层每个神经元同步进行累加
    - 上一层有n个输出（n个神经元）则打几拍
    - 这一层有m个输入（m个神经元）则需要m个乘和累加器

* 每一层每个神经元激活成为输出，使用查表加乘法器，则需要m个乘法器，可以复用上一层，需要打1拍


## 每一层需要n+1拍，m个乘和累加器，几乎无延时
* 简单逻辑测试
    - 逻辑门延时4.359
    - 线网延时1.636
    - 总延时6.000

* 理论最高时钟166MHz
* 可以采用150MHz打拍
* 实际YJ432可用100MHz


